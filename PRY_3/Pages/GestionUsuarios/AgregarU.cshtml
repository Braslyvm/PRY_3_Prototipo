@page
@model PRY_3.Pages.AgregaModel
@{
    ViewData["Title"] = "Gestión de Usuarios";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro de Usuario</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

<form id="addForm" action="/Agrega/Success" method="post" onsubmit="confirmAdd(event)">
    <div>
        <label for="cedula">Cédula:</label>
        <input type="text" id="cedula" name="Cedula" required />
    </div>
    
    <div>
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="Nombre" required />
    </div>

    <div>
        <label for="apellido1">Apellido 1:</label>
        <input type="text" id="apellido1" name="Apellido_1" required />
    </div>

    <div>
        <label for="apellido2">Apellido 2:</label>
        <input type="text" id="apellido2" name="Apellido_2" required />
    </div>

    <div>
        <label for="sexo">Sexo:</label>
        <select id="sexo" name="Sexo" required>
            <option value="" disabled selected>Seleccionar opción</option>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
        </select>
    </div>

    <div>
        <label for="lugarResidencia">Lugar de Residencia:</label>
        <input type="text" id="lugarResidencia" name="Lugar_Recidencia" required />
    </div>

    <div>
        <label for="role">Rol:</label>
        <select id="role" name="Role" required>
            <option value="" disabled selected>Seleccionar opción</option>
            <option value="Usuario">Usuario</option>
            <option value="Administrador">Administrador</option>
        </select>
    </div>

    <div>
        <label for="estado">Estado:</label>
        <select id="estado" name="Estado" required>
            <option value="" disabled selected>Seleccionar opción</option>
            <option value="Activo">Activo</option>
            <option value="Inactivo">Inactivo</option>
        </select>
    </div>

    <div>
        <label for="correo">Correo:</label>
        <input type="email" id="correo" name="Correo" required />
    </div>
    
    <div>
        <label for="contrasena">Contraseña:</label>
        <input type="password" id="contrasena" name="Contrasena" required />
    </div>
    
    <button type="submit">Enviar</button>
</form>

<script>
    function confirmAdd(event) {
        event.preventDefault(); // Previene el envío del formulario

        Swal.fire({
            title: 'Usuario Agregado',
            text: 'El usuario ha sido agregado exitosamente.',
            icon: 'success',
            confirmButtonText: 'Aceptar'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '/GestionUsuarios/Usuarios'; 
            }
        });
    }
</script>

</body>
</html>
